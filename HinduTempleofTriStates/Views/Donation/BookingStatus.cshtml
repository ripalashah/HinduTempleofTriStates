@model HinduTempleofTriStates.Models.BookingStatusModel

<h2>Booking Status</h2>

<div id="status">
    <p>Status: @Model.StatusMessage</p>
    <p>Last Updated: @Model.LastUpdated</p>
</div>

<script src="~/lib/signalr/dist/browser/signalr.js"></script>
<script>
    const connection = new signalR.HubConnectionBuilder()
        .withUrl("/bookingHub") // Ensure this matches the URL of your SignalR Hub
        .build();

    // Set up client-side listener for receiving booking updates
    connection.on("ReceiveBookingUpdate", function (message) {
        document.getElementById("status").innerHTML = message;
    });

    // Start the SignalR connection
    connection.start().catch(function (err) {
        return console.error(err.toString());
    });
</script>
