<h2>Real-Time Updates</h2>

<div id="updates">
    <p>Waiting for updates...</p>
</div>

<script src="~/lib/signalr/dist/browser/signalr.js"></script>
<script>
    // Establish connection to the real-time updates hub
    const connection = new signalR.HubConnectionBuilder()
        .withUrl("/donationHub") // Match the Hub URL for updates, adjust as needed
        .build();

    connection.on("ReceiveDonationUpdate", function (donationId, status) {
        // Display real-time update messages in the div
        const updatesDiv = document.getElementById("updates");
        updatesDiv.innerHTML = `<p>Donation ${donationId}: ${status}</p>`;
    });

    // Start the SignalR connection
    connection.start().catch(err => console.error(err.toString()));
</script>
